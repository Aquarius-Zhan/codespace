# Hello, Rogue World!

一款融合了《超级马里奥》经典手感、《猫里奥》恶意陷阱和Roguelike随机性的2D平台跳跃游戏。

## 🎮 游戏特色

### 核心玩法
- **马里奥式物理引擎**: 精确复刻的跳跃、移动和惯性系统
- **猫里奥风格陷阱**: 隐形砖块、假平台、触发式机关等恶意设计
- **Roguelike元素**: 永久死亡、随机关卡生成、局外成长系统

### 视觉风格
- **赛博朋克故障艺术**: 霓虹色彩、二进制雨、数字化粒子效果
- **动态UI**: 实时故障效果、屏幕震动、粒子爆炸
- **沉浸式环境**: 背景建筑、发光元素、动态光效

### 游戏机制
- **收集系统**: 收集 "H"、"e"、"l"、"l"、"o" 字母完成完美通关
- **敌人AI**: 5种不同类型的敌人，各具特色的行为模式
- **陷阱系统**: 12种陷阱类型，包括移动危害、触发机关和环境危险
- **永久升级**: 使用收集的硬币解锁新能力

## 🎯 控制方式

### 基础操作
- **←/→ 或 A/D**: 左右移动
- **↑/空格/W**: 跳跃
- **E/回车**: 动作/冲刺（需要解锁）
- **ESC/P**: 暂停游戏

### 调试功能
- **F3**: 切换调试模式
- **R**: 重新开始关卡
- **ESC**: 返回菜单

## 🔧 技术实现

### 游戏引擎
- **Kaboom.js**: 轻量级网页2D游戏框架
- **纯JavaScript**: 无需编译，直接在浏览器运行

### 核心系统
1. **物理引擎**: 自实现的马里奥风格物理系统
2. **关卡生成**: 基于区域的程序化生成算法
3. **陷阱系统**: 复杂的触发链和欺骗性设计
4. **AI系统**: 状态机驱动的敌人行为
5. **UI系统**: 响应式赛博朋克界面

### 性能优化
- **对象池**: 重用游戏对象减少GC压力
- **视口剔除**: 只渲染可见区域内的对象
- **批处理渲染**: 合并相似渲染调用

## 🏗️ 项目结构

```
hello_world1/
├── index.html              # 主页面
├── package.json            # 项目配置
├── README.md              # 项目说明
├── assets/                # 游戏资源
│   ├── images/            # 图片资源
│   ├── audio/             # 音效文件
│   └── fonts/             # 字体文件
└── src/                   # 源代码
    ├── game.js            # 游戏入口和核心设置
    ├── scenes/            # 游戏场景
    │   └── MainScene.js   # 主游戏场景
    ├── entities/          # 游戏实体
    │   ├── Player.js      # 玩家角色
    │   └── Enemy.js       # 敌人系统
    ├── systems/           # 游戏系统
    │   ├── LevelGenerator.js  # 关卡生成器
    │   └── TrapSystem.js      # 陷阱系统
    └── ui/                # 用户界面
        └── GameUI.js      # 游戏UI系统
```

## 🎯 游戏机制详解

### 玩家能力
- **基础移动**: 速度200单位/秒，支持加速度和摩擦力
- **跳跃系统**: 550单位跳跃力度，支持二段跳（需解锁）
- **冲刺能力**: 400单位/秒的快速冲刺，期间无敌（需解锁）
- **生命值**: 初始3点生命，可升级至4点

### 敌人类型
1. **Walker**: 基础巡逻敌人，速度适中
2. **Jumper**: 跳跃型敌人，移动更灵活
3. **Shooter**: 远程攻击敌人，发射弹幕
4. **Chaser**: 追踪型敌人，速度较快
5. **Flyer**: 飞行敌人，空战威胁

### 陷阱类型
- **隐形砖块**: 完全看不见的致命障碍
- **假平台**: 看似安全但会破碎的平台
- **尖刺**: 经典伤害陷阱，部分可伸缩
- **移动危害**: 旋转锯片、激光、尖刺球
- **触发机关**: 踩踏后激活的连锁陷阱
- **环境危害**: 掉落方块、挤压墙壁

### 升级系统
- **二段跳**: 100硬币 - 允许空中再次跳跃
- **额外生命**: 150硬币 - 增加1点最大生命值
- **冲刺能力**: 200硬币 - 解锁快速冲刺
- **硬币磁铁**: 125硬币 - 自动吸引附近硬币
- **速度提升**: 175硬币 - 移动速度+20%

## 🎨 视觉设计

### 色彩方案
- **主色调**: 青色 (#00ffff)、洋红 (#ff00ff)、黄色 (#ffff00)
- **背景色**: 深色系 (#0a0a0a, #1a0033)
- **强调色**: 红色 (#ff0044) 用于危险警示

### 特效系统
- **粒子效果**: 跳跃、死亡、收集时的视觉反馈
- **屏幕震动**: 碰撞、爆炸、死亡的物理反馈
- **故障效果**: 随机视觉干扰，增强赛博朋克氛围
- **发光效果**: 重要物体和UI元素的霓虹光晕

## 🔊 音效系统

基于Web Audio API的动态音效生成：
- **跳跃音效**: 200Hz方波，0.1秒
- **落地音效**: 100Hz方波，0.05秒
- **收集音效**: 800Hz方波，0.1秒
- **受伤音效**: 100Hz方波，0.2秒
- **死亡音效**: 50Hz方波，0.5秒
- **故障音效**: 随机频率方波，0.05秒

## 🚀 快速开始

1. **安装依赖**:
```bash
npm install
```

2. **启动开发服务器**:
```bash
npm run dev
```

3. **打开浏览器**: 访问 `http://localhost:8000`

4. **开始游戏**: 使用键盘控制角色开始冒险

## 🎮 游戏策略

### 新手建议
1. **谨慎前进**: 不要急于跳跃，观察可疑位置
2. **记忆陷阱**: 虽然关卡随机，但陷阱类型可学习
3. **收集升级**: 优先升级核心能力（二段跳、额外生命）
4. **完美通关**: 收集所有字母获得高分奖励

### 高手技巧
1. **节奏跳跃**: 利用跳跃缓冲和coyote时间
2. **冲刺运用**: 穿过敌人和躲避危险
3. **陷阱利用**: 利用某些陷阱消灭敌人
4. **快速通关**: 优化路线减少时间损失

## 🐛 已知问题

- 移动平台在高帧率下可能抖动
- 同时触发多个陷阱时可能掉帧
- 某些极端角度的碰撞检测不够精确

## 🔄 更新计划

### v1.1 (计划中)
- 新增关卡主题系统
- 更多敌人类型和AI模式
- 成就系统
- 音效和音乐完善

### v1.2 (计划中)
- 关卡编辑器
- 在线排行榜
- 多人模式
- 更多视觉效果

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 🤝 贡献

欢迎提交Issue和Pull Request来改进游戏！

---

**注意**: 这是一个充满挑战和"恶意"的游戏，请保持耐心和幽默感。死亡是学习的一部分！

**Happy Gaming!** 🎮✨